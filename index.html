<!DOCTYPE html>
<html lang="en" class="light-theme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Hub</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom CSS for the switch toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* Dark mode styles */
        .dark {
            background-color: #1a202c; /* Dark background for overall page */
            color: #e2e8f0; /* Light text for dark mode */
        }
        .dark .bg-white {
            background-color: #2d3748; /* Darker background for cards/modals */
        }
        .dark .text-gray-800 {
            color: #e2e8f0; /* Light text for headings */
        }
        .dark .text-gray-700 {
            color: #cbd5e0; /* Lighter text for paragraphs */
        }
        .dark .text-gray-600 {
            color: #a0aec0; /* Even lighter text */
        }
        .dark .text-gray-500 {
            color: #718096; /* Light gray for subtle text */
        }
        .dark .border-gray-200 {
            border-color: #4a5568; /* Darker border */
        }
        .dark .border-gray-300 {
            border-color: #4a5568; /* Darker border */
        }
        .dark .bg-gray-50 {
            background-color: #4a5568; /* Darker input/select background */
        }
        .dark .bg-gray-100 {
            background-color: #4a5568; /* Darker table header/comment background */
        }
        .dark .bg-gray-700 {
            background-color: #2d3748; /* For specific elements that use gray-700 */
        }
        .dark .bg-gray-800 {
            background-color: #1a202c; /* For specific elements that use gray-800 */
        }
        .dark .bg-gray-900 {
            background-color: #000000; /* For specific elements that use gray-900 */
        }
        .dark .text-gray-100 {
            color: #f7fafc;
        }
        .dark .text-gray-200 {
            color: #edf2f7;
        }
        .dark .text-gray-300 {
            color: #e2e8f0;
        }
        .dark .text-gray-400 {
            color: #cbd5e0;
        }
        .dark .text-gray-900 {
            color: #f7fafc;
        }

        /* Custom styles for the game canvas */
        #gameCanvas {
            border: 2px solid #333;
            background-color: #f0f0f0;
            display: block;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .dark #gameCanvas {
            background-color: #333;
            border-color: #666;
        }

        /* General layout adjustments */
        body {
            display: flex;
            min-height: 100vh;
            transition: background-color 0.3s ease; /* Smooth transition for background */
            font-family: 'Inter', sans-serif; /* Apply Inter font */
        }

        /* Sidebar responsiveness */
        #left-sidebar {
            width: 64px; /* Default collapsed width on desktop */
            transition: width 0.3s ease, transform 0.3s ease;
            z-index: 40; /* Below modals, above content */
        }
        #main-content-wrapper {
            margin-left: 64px; /* Default margin for collapsed sidebar */
            flex-grow: 1;
            transition: margin-left 0.3s ease;
        }

        @media (min-width: 768px) {
            #left-sidebar.w-64 { /* Expanded on desktop */
                width: 256px;
            }
            #main-content-wrapper.ml-64 { /* Adjusted margin for expanded sidebar */
                margin-left: 256px;
            }
            #sidebar-toggle {
                display: none; /* Hide toggle button on desktop */
            }
        }

        @media (max-width: 767px) {
            #left-sidebar {
                position: fixed;
                height: 100%;
                top: 0;
                left: 0;
                transform: translateX(-100%); /* Hidden by default on mobile */
                width: 256px; /* Full width for mobile expanded */
            }
            #left-sidebar.w-64 { /* Mobile expanded state */
                transform: translateX(0);
            }
            #main-content-wrapper {
                margin-left: 0; /* No margin on mobile */
            }
            #sidebar-toggle {
                display: flex; /* Show toggle button on mobile */
            }
            #overlay-backdrop {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 30; /* Below sidebar, above content */
                visibility: hidden;
                opacity: 0;
                transition: opacity 0.3s ease, visibility 0.3s ease;
            }
            #overlay-backdrop.visible {
                visibility: visible;
                opacity: 1;
            }
        }

        /* Ensure content area takes full height */
        #content-area {
            min-height: calc(100vh - 64px); /* Adjust for header if any, or just fill remaining height */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            width: 100%; /* Ensure it takes full width */
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2196F3;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .dark::-webkit-scrollbar-track {
            background: #333;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .dark::-webkit-scrollbar-thumb {
            background: #555;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .dark::-webkit-scrollbar-thumb:hover {
            background: #777;
        }

        /* Ensure prose styles are applied correctly for markdown content */
        .prose {
            max-width: 100%; /* Override default max-width to fit container */
        }

        /* For the game: */
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 600px; /* Limit game width */
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            text-align: center;
            position: relative;
            overflow: hidden; /* Ensure elements don't spill out */
        }

        .dark #game-container {
            background-color: #2d3748;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        #game-controls {
            display: flex;
            flex-wrap: wrap; /* Allow controls to wrap on smaller screens */
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            width: 100%;
        }

        .game-button {
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background-image: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            background-size: 200% auto;
        }

        .game-button:hover {
            background-position: right center; /* Change the direction of the change here */
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }

        .game-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .game-button.red {
            background-image: linear-gradient(45deg, #ff6b6b 0%, #ee5253 100%);
        }

        .game-button.green {
            background-image: linear-gradient(45deg, #2ecc71 0%, #27ae60 100%);
        }

        .game-button.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        #game-score, #game-timer {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding: 10px 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .dark #game-score, .dark #game-timer {
            color: #e2e8f0;
            background-color: #4a5568;
        }

        #game-messages {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #e74c3c;
            font-weight: bold;
        }

        .dark #game-messages {
            color: #ff7675;
        }

        /* Ensure game elements are centered within canvas */
        canvas {
            background-color: #eee;
            display: block;
            margin: 0 auto; /* Center the canvas */
            border-radius: 8px;
        }

    </style>
</head>
<body class="bg-gradient-to-r from-blue-400 to-purple-600 transition-all duration-500 ease-in-out">
    <!-- Overlay Backdrop for mobile sidebar -->
    <div id="overlay-backdrop" class="hidden md:hidden fixed inset-0 bg-gray-900 bg-opacity-50 z-30 transition-opacity duration-300 ease-in-out"></div>

    <!-- Left Sidebar -->
    <aside id="left-sidebar" class="bg-gray-900 text-white flex flex-col h-screen fixed top-0 left-0 transition-all duration-300 ease-in-out z-40 shadow-xl">
        <div class="p-4 flex items-center justify-between">
            <h1 id="website-title-sidebar" class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500 transition-all duration-300">
                Community Hub
            </h1>
            <button id="sidebar-toggle" class="text-white text-2xl md:hidden">
                <i id="sidebar-icon-open" class="fas fa-bars hidden"></i>
                <i id="sidebar-icon-close" class="fas fa-times"></i>
            </button>
        </div>
        <nav id="left-sidebar-nav" class="flex-grow px-4 py-6 space-y-2 overflow-y-auto custom-scrollbar">
            <!-- Navigation links will be dynamically loaded here by JavaScript -->
        </nav>
        <div id="admin-panel-button-container" class="p-4 mt-auto">
            <!-- Admin panel button will be dynamically loaded here -->
        </div>
    </aside>

    <!-- Main Content Wrapper -->
    <div id="main-content-wrapper" class="flex-grow flex flex-col items-center justify-center p-4 transition-all duration-300 ease-in-out">
        <!-- Loading Spinner -->
        <div id="loading-spinner" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-[100]">
            <div class="spinner border-t-4 border-blue-500"></div>
        </div>

        <!-- Global Message Modal Container -->
        <div id="message-modal-container" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[1000] p-4">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm mx-auto p-6 text-center backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90 border border-gray-200 dark:border-gray-700">
                <p id="message-modal-text" class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-6"></p>
                <div class="flex justify-center space-x-4">
                    <button id="message-modal-ok-btn" class="py-2 px-5 rounded-full bg-blue-600 text-white font-bold hover:bg-blue-700 transition duration-300 transform hover:scale-105 shadow-lg">
                        OK
                    </button>
                    <button id="message-modal-cancel-btn" class="hidden py-2 px-5 rounded-full bg-gray-500 text-white font-bold hover:bg-gray-600 transition duration-300 transform hover:scale-105 shadow-lg">
                        Cancel
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Modals Container (for complex modals like Create Post, Edit Profile) -->
        <div id="main-modals-container" class="hidden">
            <!-- Modals will be rendered here by JavaScript -->
        </div>

        <!-- Main Content Area -->
        <main id="content-area" class="flex-grow flex flex-col items-center justify-center w-full">
            <!-- Page content will be loaded here by JavaScript -->
        </main>
    </div>

    <!-- Import the main application script -->
    <script type="module" src="src/App.js"></script>
</body>
</html>
